IPS_LocalLibrary := {
	lat: {
		slash: "reverse_solidus",
		q: "lat_[c,s]_let_q",
		p: "lat_[c,s]_let_p",
		c: "lat_[c,s]_let_c",
		c_car: "lat_[c,s]_let_c__caron",
		a: "lat_[c,s]_let_a",
		a_acu: "lat_[c,s]_let_a__acute",
		a_bre: "lat_[c,s]_let_a__breve",
		a_bre_acu: "lat_[c,s]_let_a__breve__acute",
		a_bre_gra: "lat_[c,s]_let_a__breve__grave",
		a_bre_til: "lat_[c,s]_let_a__breve__tilde_above",
		a_bre_dot_bel: "lat_[c,s]_let_a__breve__dot_below",
		a_bre_hoo_abo: "lat_[c,s]_let_a__breve__hook_above",
		a_dia: "lat_[c,s]_let_a__diaeresis",
		a_cir: "lat_[c,s]_let_a__circumflex",
		a_cir_acu: "lat_[c,s]_let_a__circumflex__acute",
		a_cir_gra: "lat_[c,s]_let_a__circumflex__grave",
		a_cir_til: "lat_[c,s]_let_a__circumflex__tilde_above",
		a_cir_dot_bel: "lat_[c,s]_let_a__circumflex__dot_below",
		a_cir_hoo_abo: "lat_[c,s]_let_a__circumflex__hook_above",
		a_car: "lat_[c,s]_let_a__caron",
		a_gra: "lat_[c,s]_let_a__grave",
		a_til: "lat_[c,s]_let_a__tilde_above",
		a_dot_bel: "lat_[c,s]_let_a__dot_below",
		a_hoo_abo: "lat_[c,s]_let_a__hook_above",
		a_mac: "lat_[c,s]_let_a__macron",
		;
		b: "lat_[c,s]_let_b",
		b_sto: "lat_[c,s]_let_b__stroke_short",
		;
		d: "lat_[c,s]_let_d",
		d_sto: "lat_[c,s]_let_d__stroke_short",
		d_dong: "wallet_viet_dong",
		;
		n: "lat_[c,s]_let_n",
		n_til: "lat_[c,s]_let_n__tilde_above",
		;
		e: "lat_[c,s]_let_e",
		e_acu: "lat_[c,s]_let_e__acute",
		e_bre: "lat_[c,s]_let_e__breve",
		e_cir: "lat_[c,s]_let_e__circumflex",
		e_dia: "lat_[c,s]_let_e__diaeresis",
		e_cir_acu: "lat_[c,s]_let_e__circumflex__acute",
		e_cir_gra: "lat_[c,s]_let_e__circumflex__grave",
		e_cir_til: "lat_[c,s]_let_e__circumflex__tilde_above",
		e_cir_dot_bel: "lat_[c,s]_let_e__circumflex__dot_below",
		e_cir_hoo_abo: "lat_[c,s]_let_e__circumflex__hook_above",
		e_car: "lat_[c,s]_let_e__caron",
		e_gra: "lat_[c,s]_let_e__grave",
		e_til: "lat_[c,s]_let_e__tilde_above",
		e_dot_bel: "lat_[c,s]_let_e__dot_below",
		e_hoo_abo: "lat_[c,s]_let_e__hook_above",
		e_mac: "lat_[c,s]_let_e__macron",
		;
		i: "lat_[c,s]_let_i",
		i_acu: "lat_[c,s]_let_i__acute",
		i_bre: "lat_[c,s]_let_i__breve",
		i_dia: "lat_[c,s]_let_i__diaeresis",
		i_cir: "lat_[c,s]_let_i__circumflex",
		i_car: "lat_[c,s]_let_i__caron",
		i_gra: "lat_[c,s]_let_i__grave",
		i_til: "lat_[c,s]_let_i__tilde_above",
		i_dot_bel: "lat_[c,s]_let_i__dot_below",
		i_hoo_abo: "lat_[c,s]_let_i__hook_above",
		i_mac: "lat_[c,s]_let_i__macron",
		;
		o: "lat_[c,s]_let_o",
		o_acu: "lat_[c,s]_let_o__acute",
		o_bre: "lat_[c,s]_let_o__breve",
		o_dia: "lat_[c,s]_let_o__diaeresis",
		o_cir: "lat_[c,s]_let_o__circumflex",
		o_cir_acu: "lat_[c,s]_let_o__circumflex__acute",
		o_cir_gra: "lat_[c,s]_let_o__circumflex__grave",
		o_cir_til: "lat_[c,s]_let_o__circumflex__tilde_above",
		o_cir_dot_bel: "lat_[c,s]_let_o__circumflex__dot_below",
		o_cir_hoo_abo: "lat_[c,s]_let_o__circumflex__hook_above",
		o_hor: "lat_[c,s]_let_o__horn",
		o_hor_acu: "lat_[c,s]_let_o__horn__acute",
		o_hor_gra: "lat_[c,s]_let_o__horn__grave",
		o_hor_til: "lat_[c,s]_let_o__horn__tilde_above",
		o_hor_dot_bel: "lat_[c,s]_let_o__horn__dot_below",
		o_hor_hoo_abo: "lat_[c,s]_let_o__horn__hook_above",
		o_car: "lat_[c,s]_let_o__caron",
		o_gra: "lat_[c,s]_let_o__grave",
		o_til: "lat_[c,s]_let_o__tilde_above",
		o_dot_bel: "lat_[c,s]_let_o__dot_below",
		o_hoo_abo: "lat_[c,s]_let_o__hook_above",
		o_mac: "lat_[c,s]_let_o__macron",
		;
		u: "lat_[c,s]_let_u",
		u_acu: "lat_[c,s]_let_u__acute",
		u_bre: "lat_[c,s]_let_u__breve",
		u_dia: "lat_[c,s]_let_u__diaeresis",
		u_dia_mac: "lat_[c,s]_let_u__diaeresis__macron",
		u_dia_acu: "lat_[c,s]_let_u__diaeresis__acute",
		u_dia_gra: "lat_[c,s]_let_u__diaeresis__grave",
		u_dia_car: "lat_[c,s]_let_u__diaeresis__caron",
		u_cir: "lat_[c,s]_let_u__circumflex",
		u_hor: "lat_[c,s]_let_u__horn",
		u_hor_acu: "lat_[c,s]_let_u__horn__acute",
		u_hor_gra: "lat_[c,s]_let_u__horn__grave",
		u_hor_til: "lat_[c,s]_let_u__horn__tilde_above",
		u_hor_dot_bel: "lat_[c,s]_let_u__horn__dot_below",
		u_hor_hoo_abo: "lat_[c,s]_let_u__horn__hook_above",
		u_car: "lat_[c,s]_let_u__caron",
		u_gra: "lat_[c,s]_let_u__grave",
		u_til: "lat_[c,s]_let_u__tilde_above",
		u_dot_bel: "lat_[c,s]_let_u__dot_below",
		u_hoo_abo: "lat_[c,s]_let_u__hook_above",
		u_mac: "lat_[c,s]_let_u__macron",
		;
		y: "lat_[c,s]_let_y",
		y_acu: "lat_[c,s]_let_y__acute",
		y_dia: "lat_[c,s]_let_y__diaeresis",
		y_cir: "lat_[c,s]_let_y__circumflex",
		y_gra: "lat_[c,s]_let_y__grave",
		y_til: "lat_[c,s]_let_y__tilde_above",
		y_dot_bel: "lat_[c,s]_let_y__dot_below",
		y_hoo_abo: "lat_[c,s]_let_y__hook_above",
		y_mac: "lat_[c,s]_let_y__macron",
		;
		uo: "lat_[c,s]_let_\u,o,c/",
		uo_acu: "lat_[c,s]_let_\u,o__acute,c/",
		uo_gra: "lat_[c,s]_let_\u,o__grave,c/",
		uo_car: "lat_[c,s]_let_\u,o__caron,c/",
		uo_cir: "lat_[c,s]_let_\u,o__circumflex,c/",
		uo_hoo_abo: "lat_[c,s]_let_\u,o__hook_above,c/",
		uo_til: "lat_[c,s]_let_\u,o__tilde_above,c/",
		uo_dot_bel: "lat_[c,s]_let_\u,o__dot_below,c/",
		uo_hor_hor: "lat_[c,s]_let_\u__horn,o__horn,c/",
		uo_hor_hor_acu: "lat_[c,s]_let_\u__horn,o__horn__acute,c/",
		uo_hor_hor_gra: "lat_[c,s]_let_\u__horn,o__horn__grave,c/",
		uo_hor_hor_hoo_abo: "lat_[c,s]_let_\u__horn,o__horn__hook_above,c/",
		uo_hor_hor_til: "lat_[c,s]_let_\u__horn,o__horn__tilde_above,c/",
		uo_hor_hor_dot_bel: "lat_[c,s]_let_\u__horn,o__horn__dot_below,c/",
		uo_hor_cir: "lat_[c,s]_let_\u__horn,o__circumflex,c/",
		uo_hor_cir_acu: "lat_[c,s]_let_\u__horn,o__circumflex__acute,c/",
		uo_hor_cir_gra: "lat_[c,s]_let_\u__horn,o__circumflex__grave,c/",
		uo_hor_cir_hoo_abo: "lat_[c,s]_let_\u__horn,o__circumflex__hook_above,c/",
		uo_hor_cir_til: "lat_[c,s]_let_\u__horn,o__circumflex__tilde_above,c/",
		uo_hor_cir_dot_bel: "lat_[c,s]_let_\u__horn,o__circumflex__dot_below,c/",
		;
		uong: "lat_[c,s]_let_\u,o,n,g/",
		uong_acu: "lat_[c,s]_let_\u,o__acute,n,g/",
		uong_gra: "lat_[c,s]_let_\u,o__grave,n,g/",
		uong_car: "lat_[c,s]_let_\u,o__caron,n,g/",
		uong_cir: "lat_[c,s]_let_\u,o__circumflex,n,g/",
		uong_hoo_abo: "lat_[c,s]_let_\u,o__hook_above,n,g/",
		uong_til: "lat_[c,s]_let_\u,o__tilde_above,n,g/",
		uong_dot_bel: "lat_[c,s]_let_\u,o__dot_below,n,g/",
		uong_hor_hor: "lat_[c,s]_let_\u__horn,o__horn,n,g/",
		uong_hor_hor_acu: "lat_[c,s]_let_\u__horn,o__horn__acute,n,g/",
		uong_hor_hor_gra: "lat_[c,s]_let_\u__horn,o__horn__grave,n,g/",
		uong_hor_hor_hoo_abo: "lat_[c,s]_let_\u__horn,o__horn__hook_above,n,g/",
		uong_hor_hor_til: "lat_[c,s]_let_\u__horn,o__horn__tilde_above,n,g/",
		uong_hor_hor_dot_bel: "lat_[c,s]_let_\u__horn,o__horn__dot_below,n,g/",
		uong_hor_cir: "lat_[c,s]_let_\u__horn,o__circumflex,n,g/",
		uong_hor_cir_acu: "lat_[c,s]_let_\u__horn,o__circumflex__acute,n,g/",
		uong_hor_cir_gra: "lat_[c,s]_let_\u__horn,o__circumflex__grave,n,g/",
		uong_hor_cir_hoo_abo: "lat_[c,s]_let_\u__horn,o__circumflex__hook_above,n,g/",
		uong_hor_cir_til: "lat_[c,s]_let_\u__horn,o__circumflex__tilde_above,n,g/",
		uong_hor_cir_dot_bel: "lat_[c,s]_let_\u__horn,o__circumflex__dot_below,n,g/",
		;
		uoc: "lat_[c,s]_let_\u,o,c/",
		uoc_acu: "lat_[c,s]_let_\u,o__acute,c/",
		uoc_gra: "lat_[c,s]_let_\u,o__grave,c/",
		uoc_car: "lat_[c,s]_let_\u,o__caron,c/",
		uoc_cir: "lat_[c,s]_let_\u,o__circumflex,c/",
		uoc_hoo_abo: "lat_[c,s]_let_\u,o__hook_above,c/",
		uoc_til: "lat_[c,s]_let_\u,o__tilde_above,c/",
		uoc_dot_bel: "lat_[c,s]_let_\u,o__dot_below,c/",
		uoc_hor_hor: "lat_[c,s]_let_\u__horn,o__horn,c/",
		uoc_hor_hor_acu: "lat_[c,s]_let_\u__horn,o__horn__acute,c/",
		uoc_hor_hor_gra: "lat_[c,s]_let_\u__horn,o__horn__grave,c/",
		uoc_hor_hor_hoo_abo: "lat_[c,s]_let_\u__horn,o__horn__hook_above,c/",
		uoc_hor_hor_til: "lat_[c,s]_let_\u__horn,o__horn__tilde_above,c/",
		uoc_hor_hor_dot_bel: "lat_[c,s]_let_\u__horn,o__horn__dot_below,c/",
		uoc_hor_cir: "lat_[c,s]_let_\u__horn,o__circumflex,c/",
		uoc_hor_cir_acu: "lat_[c,s]_let_\u__horn,o__circumflex__acute,c/",
		uoc_hor_cir_gra: "lat_[c,s]_let_\u__horn,o__circumflex__grave,c/",
		uoc_hor_cir_hoo_abo: "lat_[c,s]_let_\u__horn,o__circumflex__hook_above,c/",
		uoc_hor_cir_til: "lat_[c,s]_let_\u__horn,o__circumflex__tilde_above,c/",
		uoc_hor_cir_dot_bel: "lat_[c,s]_let_\u__horn,o__circumflex__dot_below,c/",
		;
		an: "lat_[c,s]_let_\a,n/",
		an_acu: "lat_[c,s]_let_\a__acute,n/",
		an_gra: "lat_[c,s]_let_\a__grave,n/",
		an_car: "lat_[c,s]_let_\a__caron,n/",
		an_cir: "lat_[c,s]_let_\a__circumflex,n/",
		an_hoo_abo: "lat_[c,s]_let_\a__hook_above,n/",
		an_til: "lat_[c,s]_let_\a__tilde_above,n/",
		an_dot_bel: "lat_[c,s]_let_\a__dot_below,n/",
		an_mac: "lat_[c,s]_let_\a__macron,n/",
		;
		ang: "lat_[c,s]_let_\a,n,g/",
		ang_acu: "lat_[c,s]_let_\a__acute,n,g/",
		ang_gra: "lat_[c,s]_let_\a__grave,n,g/",
		ang_car: "lat_[c,s]_let_\a__caron,n,g/",
		ang_cir: "lat_[c,s]_let_\a__circumflex,n,g/",
		ang_hoo_abo: "lat_[c,s]_let_\a__hook_above,n,g/",
		ang_til: "lat_[c,s]_let_\a__tilde_above,n,g/",
		ang_dot_bel: "lat_[c,s]_let_\a__dot_below,n,g/",
		ang_mac: "lat_[c,s]_let_\a__macron,n,g/",
		;
		en: "lat_[c,s]_let_\e,n/",
		en_acu: "lat_[c,s]_let_\e__acute,n/",
		en_gra: "lat_[c,s]_let_\e__grave,n/",
		en_car: "lat_[c,s]_let_\e__caron,n/",
		en_cir: "lat_[c,s]_let_\e__circumflex,n/",
		en_hoo_abo: "lat_[c,s]_let_\e__hook_above,n/",
		en_til: "lat_[c,s]_let_\e__tilde_above,n/",
		en_dot_bel: "lat_[c,s]_let_\e__dot_below,n/",
		en_mac: "lat_[c,s]_let_\e__macron,n/",
		;
		eng: "lat_[c,s]_let_\e,n,g/",
		eng_acu: "lat_[c,s]_let_\e__acute,n,g/",
		eng_gra: "lat_[c,s]_let_\e__grave,n,g/",
		eng_car: "lat_[c,s]_let_\e__caron,n,g/",
		eng_cir: "lat_[c,s]_let_\e__circumflex,n,g/",
		eng_hoo_abo: "lat_[c,s]_let_\e__hook_above,n,g/",
		eng_til: "lat_[c,s]_let_\e__tilde_above,n,g/",
		eng_dot_bel: "lat_[c,s]_let_\e__dot_below,n,g/",
		eng_mac: "lat_[c,s]_let_\e__macron,n,g/",
		;
		in: "lat_[c,s]_let_\i,n/",
		in_acu: "lat_[c,s]_let_\i__acute,n/",
		in_gra: "lat_[c,s]_let_\i__grave,n/",
		in_car: "lat_[c,s]_let_\i__caron,n/",
		in_cir: "lat_[c,s]_let_\i__circumflex,n/",
		in_hoo_abo: "lat_[c,s]_let_\i__hook_above,n/",
		in_til: "lat_[c,s]_let_\i__tilde_above,n/",
		in_dot_bel: "lat_[c,s]_let_\i__dot_below,n/",
		in_mac: "lat_[c,s]_let_\i__macron,n/",
		;
		ing: "lat_[c,s]_let_\i,n,g/",
		ing_acu: "lat_[c,s]_let_\i__acute,n,g/",
		ing_gra: "lat_[c,s]_let_\i__grave,n,g/",
		ing_car: "lat_[c,s]_let_\i__caron,n,g/",
		ing_cir: "lat_[c,s]_let_\i__circumflex,n,g/",
		ing_hoo_abo: "lat_[c,s]_let_\i__hook_above,n,g/",
		ing_til: "lat_[c,s]_let_\i__tilde_above,n,g/",
		ing_dot_bel: "lat_[c,s]_let_\i__dot_below,n,g/",
		ing_mac: "lat_[c,s]_let_\i__macron,n,g/",
		;
		on: "lat_[c,s]_let_\o,n/",
		on_acu: "lat_[c,s]_let_\o__acute,n/",
		on_gra: "lat_[c,s]_let_\o__grave,n/",
		on_car: "lat_[c,s]_let_\o__caron,n/",
		on_cir: "lat_[c,s]_let_\o__circumflex,n/",
		on_hoo_abo: "lat_[c,s]_let_\o__hook_above,n/",
		on_til: "lat_[c,s]_let_\o__tilde_above,n/",
		on_dot_bel: "lat_[c,s]_let_\o__dot_below,n/",
		on_mac: "lat_[c,s]_let_\o__macron,n/",
		;
		ong: "lat_[c,s]_let_\o,n,g/",
		ong_acu: "lat_[c,s]_let_\o__acute,n,g/",
		ong_gra: "lat_[c,s]_let_\o__grave,n,g/",
		ong_car: "lat_[c,s]_let_\o__caron,n,g/",
		ong_cir: "lat_[c,s]_let_\o__circumflex,n,g/",
		ong_hoo_abo: "lat_[c,s]_let_\o__hook_above,n,g/",
		ong_til: "lat_[c,s]_let_\o__tilde_above,n,g/",
		ong_dot_bel: "lat_[c,s]_let_\o__dot_below,n,g/",
		ong_mac: "lat_[c,s]_let_\o__macron,n,g/",
		;
		un: "lat_[c,s]_let_\u,n/",
		un_acu: "lat_[c,s]_let_\u__acute,n/",
		un_gra: "lat_[c,s]_let_\u__grave,n/",
		un_car: "lat_[c,s]_let_\u__caron,n/",
		un_cir: "lat_[c,s]_let_\u__circumflex,n/",
		un_hoo_abo: "lat_[c,s]_let_\u__hook_above,n/",
		un_til: "lat_[c,s]_let_\u__tilde_above,n/",
		un_dot_bel: "lat_[c,s]_let_\u__dot_below,n/",
		un_mac: "lat_[c,s]_let_\u__macron,n/",
		;
		ung: "lat_[c,s]_let_\u,n,g/",
		ung_acu: "lat_[c,s]_let_\u__acute,n,g/",
		ung_gra: "lat_[c,s]_let_\u__grave,n,g/",
		ung_car: "lat_[c,s]_let_\u__caron,n,g/",
		ung_cir: "lat_[c,s]_let_\u__circumflex,n,g/",
		ung_hoo_abo: "lat_[c,s]_let_\u__hook_above,n,g/",
		ung_til: "lat_[c,s]_let_\u__tilde_above,n,g/",
		ung_dot_bel: "lat_[c,s]_let_\u__dot_below,n,g/",
		ung_mac: "lat_[c,s]_let_\u__macron,n,g/",
		;
		un_dia: "lat_[c,s]_let_\u__diaeresis,n/",
		un_dia_acu: "lat_[c,s]_let_\u__diaeresis__acute,n/",
		un_dia_gra: "lat_[c,s]_let_\u__diaeresis__grave,n/",
		un_dia_car: "lat_[c,s]_let_\u__diaeresis__caron,n/",
		un_dia_mac: "lat_[c,s]_let_\u__diaeresis__macron,n/",
		;
		ung_dia: "lat_[c,s]_let_\u__diaeresis,n,g/",
		ung_dia_acu: "lat_[c,s]_let_\u__diaeresis__acute,n,g/",
		ung_dia_gra: "lat_[c,s]_let_\u__diaeresis__grave,n,g/",
		ung_dia_car: "lat_[c,s]_let_\u__diaeresis__caron,n,g/",
		ung_dia_mac: "lat_[c,s]_let_\u__diaeresis__macron,n,g/",
		;
		ai: "lat_[c,s]_let_\a,i/",
		ai_acu: "lat_[c,s]_let_\a__acute,i/",
		ai_gra: "lat_[c,s]_let_\a__grave,i/",
		ai_car: "lat_[c,s]_let_\a__caron,i/",
		ai_mac: "lat_[c,s]_let_\a__macron,i/",
		ei: "lat_[c,s]_let_\e,i/",
		ei_acu: "lat_[c,s]_let_\e__acute,i/",
		ei_gra: "lat_[c,s]_let_\e__grave,i/",
		ei_car: "lat_[c,s]_let_\e__caron,i/",
		ei_mac: "lat_[c,s]_let_\e__macron,i/",
		oi: "lat_[c,s]_let_\o,i/",
		oi_acu: "lat_[c,s]_let_\o__acute,i/",
		oi_gra: "lat_[c,s]_let_\o__grave,i/",
		oi_car: "lat_[c,s]_let_\o__caron,i/",
		oi_mac: "lat_[c,s]_let_\o__macron,i/",
		ui: "lat_[c,s]_let_\u,i/",
		ui_acu: "lat_[c,s]_let_\u__acute,i/",
		ui_gra: "lat_[c,s]_let_\u__grave,i/",
		ui_car: "lat_[c,s]_let_\u__caron,i/",
		ui_mac: "lat_[c,s]_let_\u__macron,i/",
		ui_dia: "lat_[c,s]_let_\u__diaeresis,i/",
		ui_dia_acu: "lat_[c,s]_let_\u__diaeresis__acute,i/",
		ui_dia_gra: "lat_[c,s]_let_\u__diaeresis__grave,i/",
		ui_dia_car: "lat_[c,s]_let_\u__diaeresis__caron,i/",
		ui_dia_mac: "lat_[c,s]_let_\u__diaeresis__macron,i/",
		;
		ae: "lat_[c,s]_let_\a,e/",
		ae_acu: "lat_[c,s]_let_\a__acute,e/",
		ae_gra: "lat_[c,s]_let_\a__grave,e/",
		ae_car: "lat_[c,s]_let_\a__caron,e/",
		ae_mac: "lat_[c,s]_let_\a__macron,e/",
		ie: "lat_[c,s]_let_\i,e/",
		ie_acu: "lat_[c,s]_let_\i__acute,e/",
		ie_gra: "lat_[c,s]_let_\i__grave,e/",
		ie_car: "lat_[c,s]_let_\i__caron,e/",
		ie_mac: "lat_[c,s]_let_\i__macron,e/",
		oe: "lat_[c,s]_let_\o,e/",
		oe_acu: "lat_[c,s]_let_\o__acute,e/",
		oe_gra: "lat_[c,s]_let_\o__grave,e/",
		oe_car: "lat_[c,s]_let_\o__caron,e/",
		oe_mac: "lat_[c,s]_let_\o__macron,e/",
		ue: "lat_[c,s]_let_\u,e/",
		ue_acu: "lat_[c,s]_let_\u__acute,e/",
		ue_gra: "lat_[c,s]_let_\u__grave,e/",
		ue_car: "lat_[c,s]_let_\u__caron,e/",
		ue_mac: "lat_[c,s]_let_\u__macron,e/",
		ue_dia: "lat_[c,s]_let_\u__diaeresis,e/",
		ue_dia_acu: "lat_[c,s]_let_\u__diaeresis__acute,e/",
		ue_dia_gra: "lat_[c,s]_let_\u__diaeresis__grave,e/",
		ue_dia_car: "lat_[c,s]_let_\u__diaeresis__caron,e/",
		ue_dia_mac: "lat_[c,s]_let_\u__diaeresis__macron,e/",
		;
		ia: "lat_[c,s]_let_\i,a/",
		ia_acu: "lat_[c,s]_let_\i__acute,a/",
		ia_gra: "lat_[c,s]_let_\i__grave,a/",
		ia_car: "lat_[c,s]_let_\i__caron,a/",
		ia_mac: "lat_[c,s]_let_\i__macron,a/",
		io: "lat_[c,s]_let_\i,o/",
		io_acu: "lat_[c,s]_let_\i__acute,o/",
		io_gra: "lat_[c,s]_let_\i__grave,o/",
		io_car: "lat_[c,s]_let_\i__caron,o/",
		io_mac: "lat_[c,s]_let_\i__macron,o/",
		iu: "lat_[c,s]_let_\i,u/",
		iu_acu: "lat_[c,s]_let_\i__acute,u/",
		iu_gra: "lat_[c,s]_let_\i__grave,u/",
		iu_car: "lat_[c,s]_let_\i__caron,u/",
		iu_mac: "lat_[c,s]_let_\i__macron,u/",
		;
		ua: "lat_[c,s]_let_\u,a/",
		ua_acu: "lat_[c,s]_let_\u__acute,a/",
		ua_gra: "lat_[c,s]_let_\u__grave,a/",
		ua_car: "lat_[c,s]_let_\u__caron,a/",
		ua_mac: "lat_[c,s]_let_\u__macron,a/",
		ua_dia: "lat_[c,s]_let_\u,a/",
		ua_dia_acu: "lat_[c,s]_let_\u__diaeresis__acute,a/",
		ua_dia_gra: "lat_[c,s]_let_\u__diaeresis__grave,a/",
		ua_dia_car: "lat_[c,s]_let_\u__diaeresis__caron,a/",
		ua_dia_mac: "lat_[c,s]_let_\u__diaeresis__macron,a/",
		;
		ao: "lat_[c,s]_let_\a,o/",
		ao_acu: "lat_[c,s]_let_\a__acute,o/",
		ao_gra: "lat_[c,s]_let_\a__grave,o/",
		ao_car: "lat_[c,s]_let_\a__caron,o/",
		ao_mac: "lat_[c,s]_let_\a__macron,o/",
		eo: "lat_[c,s]_let_\e,o/",
		eo_acu: "lat_[c,s]_let_\e__acute,o/",
		eo_gra: "lat_[c,s]_let_\e__grave,o/",
		eo_car: "lat_[c,s]_let_\e__caron,o/",
		eo_mac: "lat_[c,s]_let_\e__macron,o/",
		io: "lat_[c,s]_let_\i,o/",
		io_acu: "lat_[c,s]_let_\i__acute,o/",
		io_gra: "lat_[c,s]_let_\i__grave,o/",
		io_car: "lat_[c,s]_let_\i__caron,o/",
		io_mac: "lat_[c,s]_let_\i__macron,o/",
		uo: "lat_[c,s]_let_\u,o/",
		uo_acu: "lat_[c,s]_let_\u__acute,o/",
		uo_gra: "lat_[c,s]_let_\u__grave,o/",
		uo_car: "lat_[c,s]_let_\u__caron,o/",
		uo_mac: "lat_[c,s]_let_\u__macron,o/",
		uo_dia: "lat_[c,s]_let_\u__diaeresis,o/",
		uo_dia_acu: "lat_[c,s]_let_\u__diaeresis__acute,o/",
		uo_dia_gra: "lat_[c,s]_let_\u__diaeresis__grave,o/",
		uo_dia_car: "lat_[c,s]_let_\u__diaeresis__caron,o/",
		uo_dia_mac: "lat_[c,s]_let_\u__diaeresis__macron,o/",
		;
		au: "lat_[c,s]_let_\a,u/",
		au_acu: "lat_[c,s]_let_\a__acute,u/",
		au_gra: "lat_[c,s]_let_\a__grave,u/",
		au_car: "lat_[c,s]_let_\a__caron,u/",
		au_mac: "lat_[c,s]_let_\a__macron,u/",
		eu: "lat_[c,s]_let_\e,u/",
		eu_acu: "lat_[c,s]_let_\e__acute,u/",
		eu_gra: "lat_[c,s]_let_\e__grave,u/",
		eu_car: "lat_[c,s]_let_\e__caron,u/",
		eu_mac: "lat_[c,s]_let_\e__macron,u/",
		iu: "lat_[c,s]_let_\i,u/",
		iu_acu: "lat_[c,s]_let_\i__acute,u/",
		iu_gra: "lat_[c,s]_let_\i__grave,u/",
		iu_car: "lat_[c,s]_let_\i__caron,u/",
		iu_mac: "lat_[c,s]_let_\i__macron,u/",
		ou: "lat_[c,s]_let_\o,u/",
		ou_acu: "lat_[c,s]_let_\o__acute,u/",
		ou_gra: "lat_[c,s]_let_\o__grave,u/",
		ou_car: "lat_[c,s]_let_\o__caron,u/",
		ou_mac: "lat_[c,s]_let_\o__macron,u/",
		;
		er: "lat_[c,s]_let_\e,r/",
		er_acu: "lat_[c,s]_let_\e__acute,r/",
		er_gra: "lat_[c,s]_let_\e__grave,r/",
		er_car: "lat_[c,s]_let_\e__caron,r/",
		er_mac: "lat_[c,s]_let_\e__macron,r/",
	},
	cyr: {}
}

Class InputScriptProcessor {

	static options := {
		interceptionInputMode: "",
	}

	static GenerateSequences(libLink, ending?, replaceWith?) {
		output := Map()
		if IsObject(libLink) {
			tempArray := []
			for i, key in libLink {
				if Mod(i, 3) = 1 {
					link := libLink[i]
					ending := libLink[i + 1]
					replaceWith := libLink[i + 2]

					output := MapMerge(output, this.GenerateSequences(link, ending, replaceWith))
				}
			}

		} else {
			RegExMatch(libLink, "^(.*?):(.*?)(?:\[(.*?)\])?(?:::escape)?$", &match)

			escape := ""
			if RegExMatch(libLink, "::escape$")
				escape := "[escape]"

			category := match[1]
			libChar := match[2]
			inputVariations := match[3] = "" ? [""] : StrSplit(match[3], ", ")

			if ending is String
				ending := [StrLower(ending), StrUpper(ending)]


			if IsObject(ending[1]) {
				deployedArray := []
				pairs := []

				for i, endingEntry in ending {
					for j, variation in inputVariations {
						if i = j {
							pairs.Push(endingEntry, variation)
						}
					}
				}

				for i, pair in pairs {
					if Mod(i, 2) == 1 {
						pairEnding := pairs[i]
						pairVariation := pairs[i + 1]


						refinedLibLink := RegExReplace(libLink, pairVariation ",?\s?", "")
						refinedLibLink := StrReplace(refinedLibLink, ", ]", "]")

						deployedArray.Push(refinedLibLink, pairEnding, (InStr(replaceWith, "[*]") ? StrReplace(replaceWith, "[*]", "_" pairVariation) : replaceWith))
					}
				}

				return this.GenerateSequences(deployedArray)
			} else {

				for variation in inputVariations {
					var := variation != "" ? "_" variation : ""
					ref := IPS_LocalLibrary.%category%.%libChar%%var%
					sequenceIn := ref is Array ? [ref[2], ref[1]] : [ref, ref]

					if !IsObject(replaceWith) {
						variationsReplace := (InStr(replaceWith, "[*]") ? StrReplace(replaceWith, "[*]", "_" variation) : replaceWith)
						local ref := IPS_LocalLibrary.%category%.%variationsReplace%
						sequenceOut := ref is Array ? [ref[2], ref[1]] : [ref, ref]
					} else {
						sequenceOut := replaceWith
					}

					SetSequences(sequenceIn, ending, sequenceOut, escape)
				}
			}

		}

		SetSequences(seqIn, seqEnd, seqOut, escape) {
			if seqEnd.Length = 1
				seqEnd := [seqEnd[1], seqEnd[1]]

			output.Set(
				seqIn[1] seqEnd[1], seqOut[1] escape,
				seqIn[2] seqEnd[2], seqOut[2] escape,
				seqIn[1] "\" seqEnd[1], seqIn[1] seqEnd[1],
				seqIn[2] "\" seqEnd[2], seqIn[2] seqEnd[2],
				seqOut[1] "z", seqIn[1],
				seqOut[2] "Z", seqIn[2],
			)

			if !(seqEnd[1] ~= "i)z$") {
				output.Set(
					seqOut[1] seqEnd[1], seqIn[1] seqEnd[1] "[escape]",
					seqOut[2] seqEnd[2], seqIn[2] seqEnd[2] "[escape]",
				)
			}
		}

		return output
	}

	static scriptSequences := {}

	static __New() {
		this.Init()
		this.SetSequences()
	}

	static Init() {
		for scriptType, entries in IPS_LocalLibrary.OwnProps() {
			for k, v in entries.OwnProps() {
				if v is String {
					if RegExMatch(v, "\[(.*?)\]", &match) {
						split := StrSplit(match[1], ",")
						inter := []

						for each in split
							inter.Push(ChrLib.Get(RegExReplace(v, "\[(.*?)\]", each)))

						IPS_LocalLibrary.%scriptType%.%k% := inter
					} else {
						inter := ChrLib.Get(v)
						IPS_LocalLibrary.%scriptType%.%k% := inter
					}
				}
			}
		}
	}

	static SetSequences() {
		raw := {
			vietNam: Map(
				"Advanced", MapMerge(
					this.GenerateSequences([
						"lat:a[bre, cir]", [["w", "W"], ["a", "A"]], "a[*]",
						"lat:a[acu, gra, til, dot_bel, hoo_abo]", [["s", "S"], ["f", "F"], ["x", "X"], ["j", "J"], ["r", "R"]], "a[*]",
						;
						"lat:a_bre[acu, gra, til, dot_bel, hoo_abo]", ["a", "A"], "a_cir[*]",
						"lat:a_bre[acu, gra, til, dot_bel, hoo_abo]", [["s", "S"], ["f", "F"], ["x", "X"], ["j", "J"], ["r", "R"]], "a_bre[*]",
						;
						"lat:a_cir[acu, gra, til, dot_bel, hoo_abo]", ["w", "W"], "a_bre[*]",
						"lat:a_cir[acu, gra, til, dot_bel, hoo_abo]", [["s", "S"], ["f", "F"], ["x", "X"], ["j", "J"], ["r", "R"]], "a_cir[*]",
						;
						"lat:e[bre, cir, car]", [["w", "W"], ["e", "E"], ["``", "``"]], "e[*]",
						"lat:e[acu, gra, til, dot_bel, hoo_abo]", [["s", "S"], ["f", "F"], ["x", "X"], ["j", "J"], ["r", "R"]], "e[*]",
						;
						"lat:e_cir[acu, gra, til, dot_bel, hoo_abo]", [["s", "S"], ["f", "F"], ["x", "X"], ["j", "J"], ["r", "R"]], "e_cir[*]",
						;
						"lat:i[acu, gra, til, dot_bel, hoo_abo]", [["s", "S"], ["f", "F"], ["x", "X"], ["j", "J"], ["r", "R"]], "i[*]",
						;
						"lat:o[hor, cir, bre, car]", [["w", "W"], ["o", "O"], ["q", "Q"], ["``", "``"]], "o[*]",
						"lat:o[acu, gra, til, dot_bel, hoo_abo]", [["s", "S"], ["f", "F"], ["x", "X"], ["j", "J"], ["r", "R"]], "o[*]",
						;
						"lat:o_hor[acu, gra, til, dot_bel, hoo_abo]", ["o", "O"], "o_cir[*]",
						"lat:o_hor[acu, gra, til, dot_bel, hoo_abo]", [["s", "S"], ["f", "F"], ["x", "X"], ["j", "J"], ["r", "R"]], "o_hor[*]",
						;
						"lat:o_cir[acu, gra, til, dot_bel, hoo_abo]", ["w", "W"], "o_hor[*]",
						"lat:o_cir[acu, gra, til, dot_bel, hoo_abo]", [["s", "S"], ["f", "F"], ["x", "X"], ["j", "J"], ["r", "R"]], "o_cir[*]",
						;
						"lat:u[hor, bre]", [["w", "W"], ["q", "Q"]], "u[*]",
						"lat:u[acu, gra, til, dot_bel, hoo_abo]", [["s", "S"], ["f", "F"], ["x", "X"], ["j", "J"], ["r", "R"]], "u[*]",
						;
						"lat:u_hor[acu, gra, til, dot_bel, hoo_abo]", [["s", "S"], ["f", "F"], ["x", "X"], ["j", "J"], ["r", "R"]], "u_hor[*]",
						;
						"lat:y[acu, gra, til, dot_bel, hoo_abo]", [["s", "S"], ["f", "F"], ["x", "X"], ["j", "J"], ["r", "R"]], "y[*]",
						;
						;
						"lat:uong[hor_hor, hor_cir]", [["w", "W"], ["o", "O"]], "uong[*]",
						"lat:uong[acu, gra, til, dot_bel, hoo_abo]", [["s", "S"], ["f", "F"], ["x", "X"], ["j", "J"], ["r", "R"]], "uong[*]",
						;
						"lat:uong_hor_hor[acu, gra, til, dot_bel, hoo_abo]", ["o", "O"], "uong_hor_cir[*]",
						"lat:uong_hor_hor[acu, gra, til, dot_bel, hoo_abo]", [["s", "S"], ["f", "F"], ["x", "X"], ["j", "J"], ["r", "R"]], "uong_hor_hor[*]",
						;
						"lat:uong_hor_cir[acu, gra, til, dot_bel, hoo_abo]", ["w", "W"], "uong_hor_hor[*]",
						"lat:uong_hor_cir[acu, gra, til, dot_bel, hoo_abo]", [["s", "S"], ["f", "F"], ["x", "X"], ["j", "J"], ["r", "R"]], "uong_hor_cir[*]",
						;
						;
						"lat:uoc[hor_hor, hor_cir]", [["w", "W"], ["o", "O"]], "uoc[*]",
						"lat:uoc[acu, gra, til, dot_bel, hoo_abo]", [["s", "S"], ["f", "F"], ["x", "X"], ["j", "J"], ["r", "R"]], "uoc[*]",
						;
						"lat:uoc_hor_hor[acu, gra, til, dot_bel, hoo_abo]", ["o", "O"], "uoc_hor_cir[*]",
						"lat:uoc_hor_hor[acu, gra, til, dot_bel, hoo_abo]", [["s", "S"], ["f", "F"], ["x", "X"], ["j", "J"], ["r", "R"]], "uoc_hor_hor[*]",
						;
						"lat:uoc_hor_cir[acu, gra, til, dot_bel, hoo_abo]", ["w", "W"], "uoc_hor_hor[*]",
						"lat:uoc_hor_cir[acu, gra, til, dot_bel, hoo_abo]", [["s", "S"], ["f", "F"], ["x", "X"], ["j", "J"], ["r", "R"]], "uoc_hor_cir[*]",
					]),
				),
				"Default", this.GenerateSequences([
					"lat:a", "W", "a_bre",
					"lat:a", "A", "a_cir",
					"lat:a", "F", "a_gra",
					"lat:a", "S", "a_acu",
					"lat:a", "X", "a_til",
					"lat:a", "J", "a_dot_bel",
					"lat:a", "R", "a_hoo_abo",
					"lat:a", "1", "a_cir_acu",
					"lat:a", "2", "a_cir_gra",
					"lat:a", "3", "a_cir_hoo_abo",
					"lat:a", "4", "a_cir_dot_bel",
					"lat:a", "5", "a_cir_til",
					"lat:q", "1", "a_bre_acu",
					"lat:q", "2", "a_bre_gra",
					"lat:q", "3", "a_bre_hoo_abo",
					"lat:q", "4", "a_bre_dot_bel",
					"lat:q", "5", "a_bre_til",
					;
					"lat:d", "D", "d_sto",
					"lat:d_sto", "_", "d_dong",
					;
					"lat:e", "E", "e_cir",
					"lat:e", "F", "e_gra",
					"lat:e", "S", "e_acu",
					"lat:e", "X", "e_til",
					"lat:e", "J", "e_dot_bel",
					"lat:e", "R", "e_hoo_abo",
					"lat:e", "1", "e_cir_acu",
					"lat:e", "2", "e_cir_gra",
					"lat:e", "3", "e_cir_hoo_abo",
					"lat:e", "4", "e_cir_dot_bel",
					"lat:e", "5", "e_cir_til",
					;
					"lat:i", "F", "i_gra",
					"lat:i", "S", "i_acu",
					"lat:i", "X", "i_til",
					"lat:i", "J", "i_dot_bel",
					"lat:i", "R", "i_hoo_abo",
					;
					"lat:o", "W", "o_hor",
					"lat:o", "O", "o_cir",
					"lat:o", "F", "o_gra",
					"lat:o", "S", "o_acu",
					"lat:o", "X", "o_til",
					"lat:o", "J", "o_dot_bel",
					"lat:o", "R", "o_hoo_abo",
					"lat:o", "1", "o_cir_acu",
					"lat:o", "2", "o_cir_gra",
					"lat:o", "3", "o_cir_hoo_abo",
					"lat:o", "4", "o_cir_dot_bel",
					"lat:o", "5", "o_cir_til",
					"lat:p", "1", "o_hor_acu",
					"lat:p", "2", "o_hor_gra",
					"lat:p", "3", "o_hor_hoo_abo",
					"lat:p", "4", "o_hor_dot_bel",
					"lat:p", "5", "o_hor_til",
					;
					"lat:u", "W", "u_hor",
					"lat:u", "F", "u_gra",
					"lat:u", "S", "u_acu",
					"lat:u", "X", "u_til",
					"lat:u", "J", "u_dot_bel",
					"lat:u", "R", "u_hoo_abo",
					"lat:u", "1", "u_hor_acu",
					"lat:u", "2", "u_hor_gra",
					"lat:u", "3", "u_hor_hoo_abo",
					"lat:u", "4", "u_hor_dot_bel",
					"lat:u", "5", "u_hor_til",
					;
					"lat:y", "F", "y_gra",
					"lat:y", "S", "y_acu",
					"lat:y", "X", "y_til",
					"lat:y", "J", "y_dot_bel",
					"lat:y", "R", "y_hoo_abo",
					;
					"lat:uong", "W", "uong_hor_hor",
					"lat:uong", "O", "uong_hor_cir",
					"lat:uong", "F", "uong_gra",
					"lat:uong", "S", "uong_acu",
					"lat:uong", "X", "uong_til",
					"lat:uong", "J", "uong_dot_bel",
					"lat:uong", "R", "uong_hoo_abo",
					"lat:uong", "1", "uong_hor_hor_acu",
					"lat:uong", "2", "uong_hor_hor_gra",
					"lat:uong", "3", "uong_hor_hor_hoo_abo",
					"lat:uong", "4", "uong_hor_hor_dot_bel",
					"lat:uong", "5", "uong_hor_hor_til",
					;
					"lat:uoc", "W", "uoc_hor_hor",
					"lat:uoc", "O", "uoc_hor_cir",
					"lat:uoc", "F", "uoc_gra",
					"lat:uoc", "S", "uoc_acu",
					"lat:uoc", "X", "uoc_til",
					"lat:uoc", "J", "uoc_dot_bel",
					"lat:uoc", "R", "uoc_hoo_abo",
					"lat:uoc", "1", "uoc_hor_hor_acu",
					"lat:uoc", "2", "uoc_hor_hor_gra",
					"lat:uoc", "3", "uoc_hor_hor_hoo_abo",
					"lat:uoc", "4", "uoc_hor_hor_dot_bel",
					"lat:uoc", "5", "uoc_hor_hor_til",
					;*
					;* Gia-Rai (Jarai) Extensions
					;*
					"lat:b", "B", "b_sto",
					"lat:c", "``", "c_car",
					"lat:e", "W", "e_bre",
					"lat:e", "``", "e_car",
					"lat:i", "W", "i_bre",
					"lat:n", "N", "n_til",
					"lat:o", "Q", "o_bre",
					"lat:o", "``", "o_car",
					"lat:o", "8", "o_dia",
					"lat:u", "Q", "u_bre",
					"lat:u", "8", "u_dia",
				]),
				"Extended", this.GenerateSequences([
					"lat:a_cir", "S", "a_cir_acu",
					"lat:a_cir", "F", "a_cir_gra",
					"lat:a_cir", "R", "a_cir_hoo_abo",
					"lat:a_cir", "J", "a_cir_dot_bel",
					"lat:a_cir", "X", "a_cir_til",
					"lat:a_bre", "S", "a_bre_acu",
					"lat:a_bre", "F", "a_bre_gra",
					"lat:a_bre", "R", "a_bre_hoo_abo",
					"lat:a_bre", "J", "a_bre_dot_bel",
					"lat:a_bre", "X", "a_bre_til",
					"lat:e_cir", "S", "e_cir_acu",
					"lat:e_cir", "F", "e_cir_gra",
					"lat:e_cir", "R", "e_cir_hoo_abo",
					"lat:e_cir", "J", "e_cir_dot_bel",
					"lat:e_cir", "X", "e_cir_til",
					"lat:o_cir", "S", "o_cir_acu",
					"lat:o_cir", "F", "o_cir_gra",
					"lat:o_cir", "R", "o_cir_hoo_abo",
					"lat:o_cir", "J", "o_cir_dot_bel",
					"lat:o_cir", "X", "o_cir_til",
					"lat:o_hor", "S", "o_hor_acu",
					"lat:o_hor", "F", "o_hor_gra",
					"lat:o_hor", "R", "o_hor_hoo_abo",
					"lat:o_hor", "J", "o_hor_dot_bel",
					"lat:o_hor", "X", "o_hor_til",
					"lat:u_hor", "S", "u_hor_acu",
					"lat:u_hor", "F", "u_hor_gra",
					"lat:u_hor", "R", "u_hor_hoo_abo",
					"lat:u_hor", "J", "u_hor_dot_bel",
					"lat:u_hor", "X", "u_hor_til",
					"lat:uong_hor_hor", "S", "uong_hor_hor_acu",
					"lat:uong_hor_hor", "F", "uong_hor_hor_gra",
					"lat:uong_hor_hor", "R", "uong_hor_hor_hoo_abo",
					"lat:uong_hor_hor", "J", "uong_hor_hor_dot_bel",
					"lat:uong_hor_hor", "X", "uong_hor_hor_til",
					"lat:uong_hor_cir", "S", "uong_hor_cir_acu",
					"lat:uong_hor_cir", "F", "uong_hor_cir_gra",
					"lat:uong_hor_cir", "R", "uong_hor_cir_hoo_abo",
					"lat:uong_hor_cir", "J", "uong_hor_cir_dot_bel",
					"lat:uong_hor_cir", "X", "uong_hor_cir_til",
					"lat:uoc_hor_hor", "S", "uoc_hor_hor_acu",
					"lat:uoc_hor_hor", "F", "uoc_hor_hor_gra",
					"lat:uoc_hor_hor", "R", "uoc_hor_hor_hoo_abo",
					"lat:uoc_hor_hor", "J", "uoc_hor_hor_dot_bel",
					"lat:uoc_hor_hor", "X", "uoc_hor_hor_til",
					"lat:uoc_hor_cir", "S", "uoc_hor_cir_acu",
					"lat:uoc_hor_cir", "F", "uoc_hor_cir_gra",
					"lat:uoc_hor_cir", "R", "uoc_hor_cir_hoo_abo",
					"lat:uoc_hor_cir", "J", "uoc_hor_cir_dot_bel",
					"lat:uoc_hor_cir", "X", "uoc_hor_cir_til",
				]),
			),
			pinYin: Map(
				"Advanced", this.GenerateSequences([
					"lat:a[mac, gra, acu, car]", [["a", "A"], ["f", "F"], ["s", "S"], ["v", "V"]], "a[*]",
					"lat:e[mac, gra, acu, car]", [["e", "E"], ["f", "F"], ["s", "S"], ["v", "V"]], "e[*]",
					"lat:i[mac, gra, acu, car]", [["i", "I"], ["f", "F"], ["s", "S"], ["v", "V"]], "i[*]",
					"lat:o[mac, gra, acu, car]", [["o", "O"], ["f", "F"], ["s", "S"], ["v", "V"]], "o[*]",
					"lat:u[mac, gra, acu, car]", [["u", "U"], ["f", "F"], ["s", "S"], ["v", "V"]], "u[*]",
					"lat:u_dia[mac, gra, acu, car]", [["u", "U"], ["f", "F"], ["s", "S"], ["v", "V"]], "u_dia[*]",
					;
					"lat:a[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "a[*]",
					"lat:e[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "e[*]",
					"lat:i[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "i[*]",
					"lat:o[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "o[*]",
					"lat:u[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "u[*]",
					"lat:u_dia[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "u_dia[*]",
					;
					"lat:an[mac, gra, acu, car]", [["a", "A"], ["f", "F"], ["s", "S"], ["v", "V"]], "an[*]",
					"lat:ang[mac, gra, acu, car]", [["a", "A"], ["f", "F"], ["s", "S"], ["v", "V"]], "ang[*]",
					"lat:en[mac, gra, acu, car]", [["e", "E"], ["f", "F"], ["s", "S"], ["v", "V"]], "en[*]",
					"lat:eng[mac, gra, acu, car]", [["e", "E"], ["f", "F"], ["s", "S"], ["v", "V"]], "eng[*]",
					"lat:in[mac, gra, acu, car]", [["i", "I"], ["f", "F"], ["s", "S"], ["v", "V"]], "in[*]",
					"lat:ing[mac, gra, acu, car]", [["i", "I"], ["f", "F"], ["s", "S"], ["v", "V"]], "ing[*]",
					"lat:on[mac, gra, acu, car]", [["o", "O"], ["f", "F"], ["s", "S"], ["v", "V"]], "on[*]",
					"lat:ong[mac, gra, acu, car]", [["o", "O"], ["f", "F"], ["s", "S"], ["v", "V"]], "ong[*]",
					"lat:un[mac, gra, acu, car]", [["u", "U"], ["f", "F"], ["s", "S"], ["v", "V"]], "un[*]",
					"lat:ung[mac, gra, acu, car]", [["u", "U"], ["f", "F"], ["s", "S"], ["v", "V"]], "ung[*]",
					"lat:un_dia[mac, gra, acu, car]", [["u", "U"], ["f", "F"], ["s", "S"], ["v", "V"]], "un_dia[*]",
					"lat:ung_dia[mac, gra, acu, car]", [["u", "U"], ["f", "F"], ["s", "S"], ["v", "V"]], "ung_dia[*]",
					"lat:er[mac, gra, acu, car]", [["e", "E"], ["f", "F"], ["s", "S"], ["v", "V"]], "er[*]",
					;
					"lat:an[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "an[*]",
					"lat:ang[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "ang[*]",
					"lat:en[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "en[*]",
					"lat:eng[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "eng[*]",
					"lat:in[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "in[*]",
					"lat:ing[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "ing[*]",
					"lat:on[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "on[*]",
					"lat:ong[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "ong[*]",
					"lat:un[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "un[*]",
					"lat:ung[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "ung[*]",
					"lat:un_dia[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "un_dia[*]",
					"lat:ung_dia[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "ung_dia[*]",
					"lat:er[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "er[*]",
					;
					"lat:ai[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "ai[*]",
					"lat:ei[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "ei[*]",
					"lat:ao[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "ao[*]",
					"lat:ou[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "ou[*]",
					"lat:ia[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "ia[*]",
					"lat:ie[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "ie[*]",
					"lat:io[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "io[*]",
					"lat:iu[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "iu[*]",
					"lat:ua[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "ua[*]",
					"lat:uo[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "uo[*]",
					"lat:ui[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "ui[*]",
					"lat:ue[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "ue[*]",
					"lat:ue_dia[mac, gra, acu, car]", [["1"], ["4"], ["2"], ["3"]], "ue_dia[*]",
					;
					"lat:un[mac, gra, acu, car]", ["8"], "un_dia[*]",
					"lat:ung[mac, gra, acu, car]", ["8"], "ung_dia[*]",
					"lat:ua[mac, gra, acu, car]", ["8"], "ua_dia[*]",
					"lat:uo[mac, gra, acu, car]", ["8"], "uo_dia[*]",
					"lat:ui[mac, gra, acu, car]", ["8"], "ui_dia[*]",
					"lat:ue[mac, gra, acu, car]", ["8"], "ue_dia[*]",
				]),
				"Default", this.GenerateSequences([
					"lat:a", "A", "a_mac",
					"lat:a", "F", "a_gra",
					"lat:a", "S", "a_acu",
					"lat:a", "V", "a_car",
					;
					"lat:e", "E", "e_mac",
					"lat:e", "F", "e_gra",
					"lat:e", "S", "e_acu",
					"lat:e", "V", "e_car",
					;
					"lat:i", "I", "i_mac",
					"lat:i", "F", "i_gra",
					"lat:i", "S", "i_acu",
					"lat:i", "V", "i_car",
					;
					"lat:o", "O", "o_mac",
					"lat:o", "F", "o_gra",
					"lat:o", "S", "o_acu",
					"lat:o", "V", "o_car",
					;
					"lat:u", "U", "u_mac",
					"lat:u", "F", "u_gra",
					"lat:u", "S", "u_acu",
					"lat:u", "V", "u_car",
					"lat:u", "1", "u_dia_mac",
					"lat:u", "2", "u_dia_gra",
					"lat:u", "3", "u_dia_acu",
					"lat:u", "4", "u_dia_car",
					"lat:u", "8", "u_dia",
					"lat:u_dia", "U", "u_dia_mac",
					"lat:u_dia", "F", "u_dia_gra",
					"lat:u_dia", "S", "u_dia_acu",
					"lat:u_dia", "V", "u_dia_car",
					;
				]),
				"Extended", this.GenerateSequences([
					"lat:an", "A", "an_mac",
					"lat:an", "F", "an_gra",
					"lat:an", "S", "an_acu",
					"lat:an", "V", "an_car",
					"lat:ang", "A", "ang_mac",
					"lat:ang", "F", "ang_gra",
					"lat:ang", "S", "ang_acu",
					"lat:ang", "V", "ang_car",
					"lat:en", "E", "en_mac",
					"lat:en", "F", "en_gra",
					"lat:en", "S", "en_acu",
					"lat:en", "V", "en_car",
					"lat:eng", "E", "eng_mac",
					"lat:eng", "F", "eng_gra",
					"lat:eng", "S", "eng_acu",
					"lat:eng", "V", "eng_car",
					"lat:in", "I", "in_mac",
					"lat:in", "F", "in_gra",
					"lat:in", "S", "in_acu",
					"lat:in", "V", "in_car",
					"lat:ing", "I", "ing_mac",
					"lat:ing", "F", "ing_gra",
					"lat:ing", "S", "ing_acu",
					"lat:ing", "V", "ing_car",
					"lat:on", "O", "on_mac",
					"lat:on", "F", "on_gra",
					"lat:on", "S", "on_acu",
					"lat:on", "V", "on_car",
					"lat:ong", "O", "ong_mac",
					"lat:ong", "F", "ong_gra",
					"lat:ong", "S", "ong_acu",
					"lat:ong", "V", "ong_car",
					"lat:un", "U", "un_mac",
					"lat:un", "F", "un_gra",
					"lat:un", "S", "un_acu",
					"lat:un", "V", "un_car",
					"lat:un", "8", "un_dia",
					"lat:ung", "U", "ung_mac",
					"lat:ung", "F", "ung_gra",
					"lat:ung", "S", "ung_acu",
					"lat:ung", "V", "ung_car",
					"lat:ung", "8", "ung_dia",
					"lat:un_dia", "U", "un_dia_mac",
					"lat:un_dia", "F", "un_dia_gra",
					"lat:un_dia", "S", "un_dia_acu",
					"lat:un_dia", "V", "un_dia_car",
					"lat:ung_dia", "U", "ung_dia_mac",
					"lat:ung_dia", "F", "ung_dia_gra",
					"lat:ung_dia", "S", "ung_dia_acu",
					"lat:ung_dia", "V", "ung_dia_car",
					"lat:er", "E", "er_mac",
					"lat:er", "F", "er_gra",
					"lat:er", "S", "er_acu",
					"lat:er", "V", "er_car",
					;
					"lat:an", "1", "an_mac",
					"lat:an", "4", "an_gra",
					"lat:an", "2", "an_acu",
					"lat:an", "3", "an_car",
					"lat:ang", "1", "ang_mac",
					"lat:ang", "4", "ang_gra",
					"lat:ang", "2", "ang_acu",
					"lat:ang", "3", "ang_car",
					"lat:en", "1", "en_mac",
					"lat:en", "4", "en_gra",
					"lat:en", "2", "en_acu",
					"lat:en", "3", "en_car",
					"lat:eng", "1", "eng_mac",
					"lat:eng", "4", "eng_gra",
					"lat:eng", "2", "eng_acu",
					"lat:eng", "3", "eng_car",
					"lat:in", "1", "in_mac",
					"lat:in", "4", "in_gra",
					"lat:in", "2", "in_acu",
					"lat:in", "3", "in_car",
					"lat:ing", "1", "ing_mac",
					"lat:ing", "4", "ing_gra",
					"lat:ing", "2", "ing_acu",
					"lat:ing", "3", "ing_car",
					"lat:on", "1", "on_mac",
					"lat:on", "4", "on_gra",
					"lat:on", "2", "on_acu",
					"lat:on", "3", "on_car",
					"lat:ong", "1", "ong_mac",
					"lat:ong", "4", "ong_gra",
					"lat:ong", "2", "ong_acu",
					"lat:ong", "3", "ong_car",
					"lat:un", "1", "un_mac",
					"lat:un", "4", "un_gra",
					"lat:un", "2", "un_acu",
					"lat:un", "3", "un_car",
					"lat:ung", "1", "ung_mac",
					"lat:ung", "4", "ung_gra",
					"lat:ung", "2", "ung_acu",
					"lat:ung", "3", "ung_car",
					"lat:un_dia", "1", "un_dia_mac",
					"lat:un_dia", "4", "un_dia_gra",
					"lat:un_dia", "2", "un_dia_acu",
					"lat:un_dia", "3", "un_dia_car",
					"lat:ung_dia", "1", "ung_dia_mac",
					"lat:ung_dia", "4", "ung_dia_gra",
					"lat:ung_dia", "2", "ung_dia_acu",
					"lat:ung_dia", "3", "ung_dia_car",
					"lat:er", "1", "er_mac",
					"lat:er", "4", "er_gra",
					"lat:er", "2", "er_acu",
					"lat:er", "3", "er_car",
					;
					"lat:ai", "1", "ai_mac",
					"lat:ai", "4", "ai_gra",
					"lat:ai", "2", "ai_acu",
					"lat:ai", "3", "ai_car",
					"lat:ei", "1", "ei_mac",
					"lat:ei", "4", "ei_gra",
					"lat:ei", "2", "ei_acu",
					"lat:ei", "3", "ei_car",
					"lat:ao", "1", "ao_mac",
					"lat:ao", "4", "ao_gra",
					"lat:ao", "2", "ao_acu",
					"lat:ao", "3", "ao_car",
					"lat:ou", "1", "ou_mac",
					"lat:ou", "4", "ou_gra",
					"lat:ou", "2", "ou_acu",
					"lat:ou", "3", "ou_car",
					"lat:ia", "1", "ia_mac",
					"lat:ia", "4", "ia_gra",
					"lat:ia", "2", "ia_acu",
					"lat:ia", "3", "ia_car",
					"lat:ie", "1", "ie_mac",
					"lat:ie", "4", "ie_gra",
					"lat:ie", "2", "ie_acu",
					"lat:ie", "3", "ie_car",
					"lat:io", "1", "io_mac",
					"lat:io", "4", "io_gra",
					"lat:io", "2", "io_acu",
					"lat:io", "3", "io_car",
					"lat:iu", "1", "iu_mac",
					"lat:iu", "4", "iu_gra",
					"lat:iu", "2", "iu_acu",
					"lat:iu", "3", "iu_car",
					"lat:ua", "1", "ua_mac",
					"lat:ua", "4", "ua_gra",
					"lat:ua", "2", "ua_acu",
					"lat:ua", "3", "ua_car",
					"lat:uo", "1", "uo_mac",
					"lat:uo", "4", "uo_gra",
					"lat:uo", "2", "uo_acu",
					"lat:uo", "3", "uo_car",
					"lat:ui", "1", "ui_mac",
					"lat:ui", "4", "ui_gra",
					"lat:ui", "2", "ui_acu",
					"lat:ui", "3", "ui_car",
					"lat:ue", "1", "ue_mac",
					"lat:ue", "4", "ue_gra",
					"lat:ue", "2", "ue_acu",
					"lat:ue", "3", "ue_car",
					;
					"lat:ue_dia", "1", "ue_dia_mac",
					"lat:ue_dia", "4", "ue_dia_gra",
					"lat:ue_dia", "2", "ue_dia_acu",
					"lat:ue_dia", "3", "ue_dia_car",
					;
					"lat:un", "8", "un_dia",
					"lat:ung", "8", "ung_dia",
					"lat:ua", "8", "ua_dia",
					"lat:uo", "8", "uo_dia",
					"lat:ui", "8", "ui_dia",
					"lat:ue", "8", "ue_dia",
				]),
			),
			karaShiki: Map(
				"Advanced", Map(),
				"Default", Map(
					"ее", Chrs(0x0451, 0x0304),
					"ЕЕ", Chrs(0x0401, 0x0304),
					"ии", Chr(0x04E3),
					"ИИ", Chr(0x04E3),
					"оо", Chrs(0x043E, 0x0304),
					"ОО", Chrs(0x041E, 0x0304),
					"сс", Chr(0x04AB),
					"СС", Chr(0x04AA),
					"уу", Chr(0x04EF),
					"УУ", Chr(0x04EE),
					"уй", Chr(0x045E),
					"УЙ", Chr(0x040E),
					"юю", Chrs(0x044E, 0x0304),
					"ЮЮ", Chrs(0x042E, 0x0304),
					;
					;
					"aa", Chr(0x0101),
					"AA", Chr(0x0100),
					;
					"ee", Chr(0x0113),
					"EE", Chr(0x0112),
					;
					"oo", Chr(0x014D),
					"OO", Chr(0x014C),
					"ov", Chr(0x00F4),
					"OV", Chr(0x00D4),
					;
					"ii", Chr(0x012B),
					"II", Chr(0x012A),
					"iq", Chr(0x012D),
					"IQ", Chr(0x012C),
					;
					"uq", Chr(0x016D),
					"UQ", Chr(0x016C),
					"uu", Chr(0x016B),
					"UU", Chr(0x016A),
				),
			),
		}
		for script, entries in raw.OwnProps() {
			if !this.scriptSequences.HasOwnProp(script)
				this.scriptSequences.%script% := Map("Escaped", Map(), "Default", Map())

			for group, groupEntries in entries
				for k, v in groupEntries
					this.scriptSequences.%script%[InStr(k, "\") ? "Escaped" : "Default"].Set(k, v)
		}
	}

	__New(mode := "vietNam", reloadHs := False) {
		currentAlt := Scripter.selectedMode.Get("Alternative Modes")

		if currentAlt != "" {
			nameTitle := Locale.Read(Scripter.GetData(, currentAlt).locale)
			IPSTitle := Locale.Read("script_processor_mode_" mode)
			MsgBox(Locale.ReadInject("script_processor_warning_alt_mode_active", [IPSTitle, nameTitle]), App.Title(), "Icon!")
			return
		}

		this.mode := mode
		this.previousMode := InputScriptProcessor.options.interceptionInputMode
		this.RegistryHotstrings(reloadHs)
	}

	RegistryHotstrings(reloadHs) {
		Tooltip()

		InputScriptProcessor.options.interceptionInputMode := reloadHs
			? this.mode
			: (this.mode != InputScriptProcessor.options.interceptionInputMode ? this.mode : "")

		isEnabled := (InputScriptProcessor.options.interceptionInputMode != "" ? True : False)

		if this.mode != "" {
			InputScriptProcessor.InitHook()
		}


		!reloadHs && ShowInfoMessage(Locale.ReadInject("script_mode_" (isEnabled ? "" : "de") "activated", [Locale.Read("script_" this.mode)]), , , , True, True)
	}

	static InH := InputHook("V")
	static inputLogger := ""

	static blockHandler := 1

	static SequenceBridge(IPS, g, k, v) {
		IPS.backspaceLock := True
		IPS.blockHandler := g = "Escaped" ? 3 : 1

		Send(Util.StrRepeat("{Backspace}", StrLen(k)))

		if InStr(v, "[escape]")
			v := StrReplace(v, "[escape]")

		SendText(v)
		IPS.InH.Stop()
		IPS.inputLogger := this.LoggerDuplicates(v)
		IPS.InH.Start()
		IPS.backspaceLock := False
	}

	static LoggerDuplicates(str) {
		if (str == "" || StrLen(str) <= 1)
			return str

		result := ""
		prevChar := SubStr(str, 1, 1)
		result .= prevChar

		Loop Parse, str
		{
			if (A_Index == 1)
				continue

			currentChar := A_LoopField

			if (currentChar != prevChar) {
				result .= currentChar
				prevChar := currentChar
			}
		}

		return result
	}

	static SequenceHandler(input := "", backspaceOn := False) {
		IPS := InputScriptProcessor

		if IPS.blockHandler >= 2 {
			IPS.blockHandler--
			return
		} else {
			inputCut := (str, len := 7) => StrLen(str) > len ? SubStr(str, StrLen(str) - (len - 1)) : str
			forbiddenChars := "[`n|`r|\x{0000}-\x{0020}|,|.]"

			if StrLen(input) > 0 && IPS.options.interceptionInputMode != "" {
				if !RegExMatch(input, forbiddenChars) {
					IPS.inputLogger .= input
					IPS.inputLogger := inputCut(IPS.inputLogger)

					for group in ["Escaped", "Default"] {
						for k, v in IPS.scriptSequences.%IPS.options.interceptionInputMode%.Get(group) {
							if IPS.inputLogger ~= RegExEscape(k) "$" {
								IPS.SequenceBridge(IPS, InStr(v, "[escape]") ? "Escaped" : group, k, v)
								break 2
							}
						}
					}

				} else {
					IPS.inputLogger := ""
				}

				suggestions := IPS.GetSuggestions(IPS.LoggerDuplicates(IPS.inputLogger))
				Util.CaretTooltip(IPS.LoggerDuplicates(IPS.inputLogger) (suggestions != "" ? "`n" ChrCrafter.FormatSuggestions(suggestions) : ""))

			} else {
				IPS.InH.Stop()
				IPS.inputLogger := ""
				Tooltip()
			}
		}
		return
	}

	static GetSuggestions(input) {
		IPS := InputScriptProcessor
		suggestions := []
		output := ""

		if input != "" {
			for group in ["Default", "Escaped"] {
				for key, value in IPS.scriptSequences.%IPS.options.interceptionInputMode%.Get(group) {
					if key ~= "\\"
						continue

					suggestion := ""
					priority := 0

					if IPS.EntriesComparator(input, key, &a, &b, True) {
						suggestion := RegExReplace(b, "^" RegExEscape(a), "-") "(" StrReplace(value, "[escape]") ")"
						if (a == input)
							priority := 1000
						else
							priority := 500 + StrLen(a)
					} else if (RegExMatch(key, "^" RegExEscape(input))) {
						suggestion := RegExReplace(key, "^" RegExEscape(input), "-") "(" StrReplace(value, "[escape]") ")"
						priority := 100 + (1000 - StrLen(key))
					}

					if (suggestion != "") {
						suggestions.Push({
							text: suggestion,
							priority: priority,
							keyLength: StrLen(key),
							inputMatch: StrLen(a ?? input)
						})
					}
				}
			}

			suggestions := this.SortSuggestions(suggestions)

			for suggestion in suggestions {
				output .= suggestion.text ", "
			}
		}

		return output
	}

	static SortSuggestions(suggestions) {
		if (suggestions.Length <= 1)
			return suggestions

		for i in this.SuggestionRange(2, suggestions.Length) {
			current := suggestions[i]
			j := i - 1

			while (j >= 1 && this.SuggestionShouldSwap(suggestions[j], current)) {
				suggestions[j + 1] := suggestions[j]
				j--
			}

			suggestions[j + 1] := current
		}

		return suggestions
	}

	static SuggestionShouldSwap(a, b) {
		if (a.priority != b.priority)
			return a.priority < b.priority

		if (a.inputMatch != b.inputMatch)
			return a.inputMatch < b.inputMatch

		return a.keyLength > b.keyLength
	}

	static SuggestionRange(start, end) {
		result := []
		Loop end - start + 1 {
			result.Push(start + A_Index - 1)
		}
		return result
	}

	static EntriesComparator(a, entries, &foundKey := "", &foundValue := "", partial := False) {
		cutA := a
		found := False
		while !found && (StrLen(cutA) > 0) {
			if !IsObject(entries) {
				if partial && RegExMatch(entries, "^" RegExEscape(cutA)) || (cutA == entries) {
					foundKey := cutA
					foundValue := entries
					found := True
					break
				}
			} else {
				if entries.Has(cutA) {
					foundKey := cutA
					foundValue := entries.Get(cutA)
					found := True
					break
				}
			}
			cutA := SubStr(cutA, 2)
		}

		return found
	}

	static backspaceLock := False
	static Backspacer(ih, vk, sc) {
		IPS := InputScriptProcessor
		backspaceCode := "14"
		resetKeys := [
			"331", "336", "328", "333", ; Arrows
			"327", "335", "329", "337", ; Home End PgUp PgDn
		]

		if StrLen(IPS.inputLogger) > 0 && sc = backspaceCode && !InputScriptProcessor.backspaceLock {
			IPS.inputLogger := SubStr(IPS.inputLogger, 1, -1)

			Util.CaretTooltip(IPS.inputLogger)
		} else if resetKeys.HasValue(sc) {
			IPS.inputLogger := ""
			Tooltip()
		}

		return
	}

	static InitHook() {
		this.InH.Start()
		this.InH.NotifyNonText := True
		this.InH.KeyOpt("{Backspace}", "N")
		this.InH.OnChar := this.SequenceHandler
		this.InH.OnKeyDown := ObjBindMethod(this, "Backspacer")

		return
	}

	static TelexReturn(input) {
		output := input

		for key, value in this.scriptSequences.%this.options.interceptionInputMode% {
			isValid := input == key || InStr(input, "\") && (key == (SubStr(input, 1, 1) SubStr(input, 3)))
			if isValid {
				getValue := input == key ? value : key
				output := getValue
				break
			}
		}
		return output
	}
}